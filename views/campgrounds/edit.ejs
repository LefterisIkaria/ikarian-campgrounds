<% layout("layouts/boilerplate") %>

<h1>Edit <%= camp.title %> Campground</h1>

<form
  class="row g-3 needs-validation"
  action="/campgrounds/<%= camp._id %>?_method=put"
  method="post"
  enctype="multipart/form-data"
  novalidate
>
  <div class="col-md-6">
    <label for="title" class="form-label">Title</label>
    <input
      type="text"
      class="form-control"
      id="title"
      name="campground[title]"
      value="<%= camp.title %>"
      required
    />
    <div class="valid-feedback">Looks good!</div>
    <div class="invalid-feedback">Please provide a title.</div>
  </div>
  <div class="col-md-6">
    <label for="price" class="form-label">Price</label>
    <div class="input-group mb-3">
      <span class="input-group-text">$</span>
      <input
        type="number"
        class="form-control"
        id="price"
        name="campground[price]"
        value="<%= camp.price %>"
        required
      />
      <div class="valid-feedback">Looks good!</div>
      <div class="invalid-feedback">Please add a price.</div>
    </div>
  </div>
  <div class="col-12">
    <label for="location" class="form-label">Location</label>
    <input
      type="text"
      class="form-control"
      id="location"
      name="campground[location]"
      value="<%= camp.location %>"
      required
    />
    <div class="valid-feedback">Looks good!</div>
    <div class="invalid-feedback">Please provide a location.</div>
  </div>
  <div class="col-12">
    <label for="description" class="form-label">Description</label>
    <textarea class="form-control" id="description" name="campground[description]">
<%= camp.description %></textarea
    >
  </div>
  <div class="col-12">
    <label for="files" class="form-label">Images</label>
    <input type="file" class="form-control" id="files" name="images" multiple />
  </div>
  <div class="mt-3">
    <% camp.images.forEach((img, i) => { %>
    <div class="form-check-inline">
      <img src="<%= img.thumbnail %>" class="img-thumbnail" />
      <label for="<%= i %>">Delete</label>
      <input type="checkbox" id="<%= i %>" name="deleteImages[]" value="<%= img.filename %>" />
    </div>
    <% }) %>
  </div>
  <div class="col-12">
    <button type="submit" class="btn btn-success">Update Campground</button>
  </div>
</form>
